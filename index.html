<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>é˜¿æ£‹ä¸é˜¿è±ª</title>

<style>
* { margin:0; padding:0; box-sizing:border-box; font-family:"PingFang SC","Microsoft YaHei",sans-serif; }

body{
  background:linear-gradient(135deg,#FFFAE8 0%,#FFF5D6 50%,#FFEDB8 100%);
  min-height:100vh;
  overflow-x:hidden;
  color:#333;
}

.heart-bg{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  pointer-events:none;
  z-index:1;
}

.container{
  max-width:800px;
  margin:0 auto;
  padding:40px 20px;
  position:relative;
  z-index:2;
}

.title{
  font-size:32px;
  color:#79afe0;
  font-weight:bold;
  text-align:center;
  margin-bottom:8px;
}

.subtitle{
  font-size:14px;
  color:#666;
  text-align:center;
  margin-bottom:30px;
}

.timer-card{
  background:#fffde7;
  border-radius:16px;
  padding:25px;
  text-align:center;
  margin-bottom:30px;
  box-shadow:0 8px 20px rgba(0,0,0,0.08);
}

.timer{
  font-size:26px;
  color:#79afe0;
  font-weight:bold;
  margin:8px 0;
}

.avatar-row{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:20px;
  margin-bottom:40px;
}

.avatar{
  width:80px;
  height:80px;
  border-radius:50%;
  overflow:hidden;
  box-shadow:0 4px 12px rgba(0,0,0,0.1);
}

.avatar img{
  width:100%;
  height:100%;
  object-fit:cover;
}

.heart-icon{
  font-size:24px;
  color:#ff4081;
}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px;
}

.card{
  background:#fffde7;
  border-radius:16px;
  padding:25px 15px;
  text-align:center;
  box-shadow:0 6px 16px rgba(0,0,0,0.06);
  cursor:pointer;
  transition:0.3s;
}

.card:hover{
  transform:translateY(-5px);
}

.card-icon{
  font-size:30px;
  margin-bottom:10px;
}

.card-title{
  font-size:16px;
  font-weight:bold;
}

.card-desc{
  font-size:12px;
  color:#777;
  margin-top:5px;
}

/* å¼¹çª— */
#popup-overlay{
  display:none;
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.4);
  z-index:999;
}

#popup{
  display:none;
  position:fixed;
  top:0;
  left:50%;
  transform:translateX(-50%) translateY(-100%);
  background:#fffde7;
  padding:30px;
  border-radius:12px;
  box-shadow:0 10px 30px rgba(0,0,0,0.2);
  z-index:1000;
  width:90%;
  max-width:500px;
  transition:all 0.4s ease;
}

#popup.show{
  display:block;
  transform:translateX(-50%) translateY(60px);
}

#popup-content img{
  width:100%;
  border-radius:10px;
  margin-top:10px;
}

#popup-close{
  margin-top:20px;
  padding:6px 12px;
  cursor:pointer;
}

/* éŸ³ä¹æŒ‰é’® */
#music-btn{
  position:fixed;
  right:15px;
  bottom:20px;
  padding:10px 16px;
  border:none;
  border-radius:30px;
  background:#79afe0;
  color:#fff;
  font-size:14px;
  box-shadow:0 4px 10px rgba(0,0,0,0.2);
  cursor:pointer;
  z-index:3000;
}
</style>
</head>

<body>

<div class="heart-bg" id="hearts"></div>

<div class="container">
  <div class="title">é˜¿æ£‹ä¸é˜¿è±ªçš„ä¸€åˆ‡</div>
  <div class="subtitle">è®°å½•æˆ‘ä»¬çˆ±æƒ…çš„æ¯ä¸€ä¸ªç¬é—´</div>

  <div class="timer-card">
    <div>æˆ‘ä»¬ä¸€èµ·èµ°è¿‡äº†</div>
    <div class="timer" id="timer"></div>
    <div style="font-size:13px;color:#888;">ä»2024å¹´1æœˆ27æ—¥å¼€å§‹</div>
  </div>

  <div class="avatar-row">
    <div class="avatar"><img src="how.gif"></div>
    <div class="heart-icon">â¤ï¸</div>
    <div class="avatar"><img src="qi.gif"></div>
  </div>

  <div class="grid">
    <div class="card" data-popup="<h3>æˆ‘ä»¬çš„æ•…äº‹æ­£å¼å¼€å§‹</h3><img src='story1.jpg'>">
      <div class="card-icon">ğŸ“–</div>
      <div class="card-title">æˆ‘ä»¬çš„æ•…äº‹</div>
      <div class="card-desc">è®°å½•æˆ‘ä»¬ä»ç›¸è¯†åˆ°ç›¸çˆ±çš„ç‚¹ç‚¹æ»´æ»´</div>
    </div>

    <div class="card" data-popup="<h3>ç”œèœœç›¸å†Œ</h3><img src='story2-2.jpg'>">
      <div class="card-icon">ğŸ“·</div>
      <div class="card-title">ç”œèœœç›¸å†Œ</div>
      <div class="card-desc">çè—æ¯ä¸€ä¸ªç¾å¥½ç¬é—´</div>
    </div>

    <div class="card" data-popup="<h3>çˆ±çš„æƒ…ä¹¦</h3><img src='story3.jpg'>">
      <div class="card-icon">ğŸ’¬</div>
      <div class="card-title">çˆ±çš„æƒ…ä¹¦</div>
      <div class="card-desc">å†™ä¸‹æƒ³å¯¹å½¼æ­¤è¯´çš„è¯</div>
    </div>

    <div class="card" data-popup="<h3>æ—…è¡Œåœ°å›¾</h3><img src='story4.jpg'>">
      <div class="card-icon">ğŸ“</div>
      <div class="card-title">æ—…è¡Œåœ°å›¾</div>
      <div class="card-desc">ä¸€èµ·èµ°è¿‡çš„åŸå¸‚ä¸é£æ™¯</div>
    </div>
  </div>
</div>

<div id="popup-overlay"></div>
<div id="popup">
  <div id="popup-content"></div>
  <button id="popup-close">å…³é—­</button>
</div>

<!-- éŸ³ä¹ -->
<audio id="bgm" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<button id="music-btn">ğŸµ æ’­æ”¾éŸ³ä¹</button>

<script>
// è®¡æ—¶å™¨
function updateTimer(){
  const start=new Date('2024-01-27 00:00:00');
  const now=new Date();
  const diff=now-start;
  const d=Math.floor(diff/(1000*60*60*24));
  const h=Math.floor(diff%(1000*60*60*24)/(1000*60*60));
  const m=Math.floor(diff%(1000*60*60)/(1000*60));
  const s=Math.floor(diff%(1000*60)/1000);
  document.getElementById('timer').innerText=`${d}å¤© ${h}å°æ—¶ ${m}åˆ†é’Ÿ ${s}ç§’`;
}
setInterval(updateTimer,1000);
updateTimer();

// çˆ±å¿ƒ
function createHeart(){
  let heart=document.createElement("div");
  heart.innerHTML="â¤ï¸";
  heart.style.cssText=`
    position:absolute;
    font-size:${Math.random()*12+8}px;
    left:${Math.random()*100}%;
    top:-50px;
    animation:fall ${Math.random()*4+5}s linear forwards;
  `;
  document.getElementById("hearts").appendChild(heart);
  setTimeout(()=>heart.remove(),6000);
}
let style=document.createElement('style');
style.innerHTML=`@keyframes fall{
  0%{transform:translateY(0);}
  100%{transform:translateY(100vh);}
}`;
document.head.appendChild(style);
setInterval(createHeart,400);

// å¼¹çª—
const cards=document.querySelectorAll('.card');
const popup=document.getElementById('popup');
const overlay=document.getElementById('popup-overlay');
const popupContent=document.getElementById('popup-content');
const popupClose=document.getElementById('popup-close');

cards.forEach(card=>{
  card.addEventListener('click',()=>{
    popupContent.innerHTML=card.getAttribute('data-popup');
    popup.classList.add('show');
    overlay.style.display='block';
  });
});

popupClose.onclick=()=>{
  popup.classList.remove('show');
  overlay.style.display='none';
};
overlay.onclick=popupClose.onclick;

// ğŸµ è‡ªåŠ¨æ’­æ”¾ä¼˜åŒ–ç‰ˆ
const bgm=document.getElementById('bgm');
const musicBtn=document.getElementById('music-btn');
let isPlaying=false;

// å°è¯•è‡ªåŠ¨æ’­æ”¾
window.addEventListener('load',function(){
  const playPromise=bgm.play();
  if(playPromise!==undefined){
    playPromise.then(()=>{
      isPlaying=true;
      musicBtn.innerText="â¸ æš‚åœéŸ³ä¹";
    }).catch(()=>{
      document.body.addEventListener('click',autoPlayOnce);
    });
  }
});

// ç¬¬ä¸€æ¬¡ç‚¹å‡»è‡ªåŠ¨æ’­æ”¾
function autoPlayOnce(){
  bgm.play();
  isPlaying=true;
  musicBtn.innerText="â¸ æš‚åœéŸ³ä¹";
  document.body.removeEventListener('click',autoPlayOnce);
}

// æŒ‰é’®æ§åˆ¶
musicBtn.addEventListener('click',function(){
  if(!isPlaying){
    bgm.play();
    musicBtn.innerText="â¸ æš‚åœéŸ³ä¹";
    isPlaying=true;
  }else{
    bgm.pause();
    musicBtn.innerText="ğŸµ æ’­æ”¾éŸ³ä¹";
    isPlaying=false;
  }
});
</script>

</body>
</html>

